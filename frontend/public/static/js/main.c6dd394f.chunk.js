(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{22:function(e,t,a){},24:function(e,t,a){},59:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(33),i=a.n(n),r=(a(24),a(10)),l=a(3),j=a(2),o=(a(22),a(15)),d=a(16),b=function(e,t){switch(t.type){case"ADD_ITEM_TO_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:[t.payload].concat(Object(o.a)(e.watchlist))});case"REMOVE_ITEM_FROM_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});default:return e}},u=a(0),O={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[]},m=Object(c.createContext)(O),h=function(e){var t=Object(c.useReducer)(b,O),a=Object(j.a)(t,2),s=a[0],n=a[1];Object(c.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist))}),[s]);return Object(u.jsx)(m.Provider,{value:{watchlist:s.watchlist,addToWatchlist:function(e){n({type:"ADD_ITEM_TO_WATCHLIST",payload:e})},removeFromWatchlist:function(e){n({type:"REMOVE_ITEM_FROM_WATCHLIST",payload:e})}},children:e.children})};function p(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(u.jsx)("div",{className:"card-container",children:e.data.map((function(e){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-image",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("b",{className:"title",children:e.title?e.title:e.name})}),Object(u.jsxs)("div",{className:"ratingDate",children:[Object(u.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(u.jsx)("span",{children:"movie"===e.media_type?"Movie":"Show"})]}),Object(u.jsxs)("div",{className:"movie-overview",children:[Object(u.jsx)("h2",{children:"Overview"}),Object(u.jsx)("p",{children:e.overview}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}var v=a(7),g=a.n(v);function x(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){g.a.get("/api").then((function(e){s(e.data.results)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h3",{children:"Trending now!"})}),Object(u.jsx)(p,{data:a})]})}a(59);function f(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(l.f)();return Object(u.jsxs)("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark",children:[Object(u.jsx)(r.b,{to:"/",className:"navbar-brand",children:"Home"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"form-outline",children:Object(u.jsx)("input",{className:"form-control",type:"text",placeholder:"Search...",value:a,onChange:function(e){e.preventDefault(),s(e.target.value)}})}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){n.push("/search/".concat(a))},children:Object(u.jsx)("i",{className:"fa fa-search"})})]}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar",children:Object(u.jsxs)("ul",{className:"navbar-nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(r.b,{to:"/movies",className:"nav-link",children:"Movies"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(r.b,{to:"/shows",className:"nav-link",children:"Shows"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(r.b,{to:"/upcoming",className:"nav-link",children:"Upcoming"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(r.b,{to:"/watchlist",className:"nav-link",children:"Watchlist"})})]})})]})}a(68);function N(){return Object(u.jsx)("footer",{className:"bg-dark text-center text-white",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"text-center p-3",children:"\xa9"})})})}var w=a(11),C=a.n(w);function k(){var e=Object(l.g)().query,t=Object(c.useState)([]),a=Object(j.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(1),r=Object(j.a)(i,2),o=r[0],d=r[1],b=Object(c.useState)(0),O=Object(j.a)(b,2),m=O[0],h=O[1];Object(c.useEffect)((function(){g.a.get("/api/search?query=".concat(e,"&page=").concat(o)).then((function(e){n(e.data.results),h(e.data.total_pages)}))}),[o,e]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("h3",{children:["Results of ",e,":"]})}),Object(u.jsx)(p,{data:s}),Object(u.jsx)(C.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){d(e.selected+1)},pageCount:m,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function y(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(u.jsx)("div",{className:"card-container",children:e.movies.map((function(e){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-image",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("b",{className:"title",children:e.title})}),Object(u.jsxs)("div",{className:"ratingDate",children:[Object(u.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(u.jsx)("span",{children:e.release_date})]}),Object(u.jsxs)("div",{className:"movie-overview",children:[Object(u.jsx)("h2",{children:"Overview"}),Object(u.jsx)("p",{children:""===e.overview?"No overview available!":e.overview}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}function S(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(1),i=Object(j.a)(n,2),r=i[0],l=i[1];Object(c.useEffect)((function(){g.a.get("/api/upcoming?page=".concat(r)).then((function(e){s(e.data.results),console.log(e.data.results)}))}),[r]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h3",{children:"Upcoming movies"})}),Object(u.jsx)(y,{movies:a}),Object(u.jsx)(C.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){l(e.selected+1)},pageCount:10,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function _(){var e=Object(c.useContext)(m),t=e.watchlist,a=e.removeFromWatchlist;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h3",{children:"Watchlist"})}),Object(u.jsx)("div",{className:"card-container",children:t.map((function(e){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-image",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("b",{className:"title",children:e.title?e.title:e.name})}),Object(u.jsxs)("div",{className:"ratingDate",children:[Object(u.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(u.jsx)("span",{children:"movie"===e.media_type?"Movie":"Show"})]}),Object(u.jsxs)("div",{className:"movie-overview",children:[Object(u.jsx)("h2",{children:"Overview: "}),Object(u.jsx)("p",{children:e.overview}),Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(e.id)},children:"Remove from watchlist"})]})]})]},e.id)}))})]})}a(69);function L(e){var t=e.selectedGenres,a=e.setSelectedGenres,s=e.genres,n=e.setGenres,i=e.type,r=e.setPage;return Object(c.useEffect)((function(){return"movie"===i?g.a.get("/api/moviegenres").then((function(e){n(e.data.genres)})):"tv"===i&&g.a.get("/api/showgenres").then((function(e){n(e.data.genres)})),function(){n({})}}),[n,i]),Object(u.jsxs)("div",{className:"tags",children:[t.map((function(e){return Object(u.jsx)("button",{className:"tagSelected",onClick:function(){return c=e,a(t.filter((function(e){return e.id!==c.id}))),n([].concat(Object(o.a)(s),[c])),void r(1);var c},children:e.name},e.id)})),s.map((function(e){return Object(u.jsx)("button",{className:"tag",onClick:function(){return function(e){a([].concat(Object(o.a)(t),[e])),n(s.filter((function(t){return t.id!==e.id}))),r(1)}(e)},children:e.name},e.id)}))]})}function T(){var e=Object(c.useState)(10),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(j.a)(n,2),r=i[0],l=i[1],o=Object(c.useState)(1),d=Object(j.a)(o,2),b=d[0],O=d[1],m=Object(c.useState)([]),h=Object(j.a)(m,2),p=h[0],v=h[1],x=Object(c.useState)([]),f=Object(j.a)(x,2),N=f[0],w=f[1],k=function(e){return e.length<1?"":e.map((function(e){return e.id})).reduce((function(e,t){return e+","+t}))}(p);Object(c.useEffect)((function(){g.a.get("/api/popularmovies?page=".concat(b,"&with_genres=").concat(k)).then((function(e){l(e.data.results),s(e.data.total_pages)}))}),[k,b]);return Object(u.jsxs)("div",{children:[Object(u.jsx)(L,{type:"movie",selectedGenres:p,genres:N,setGenres:w,setSelectedGenres:v,setPage:O}),Object(u.jsx)(y,{movies:r}),Object(u.jsx)(C.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){O(e.selected+1)},pageCount:a,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function D(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(u.jsx)("div",{className:"card-container",children:e.shows.map((function(e){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-image",children:Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("b",{className:"title",children:e.name})}),Object(u.jsxs)("div",{className:"ratingDate",children:[Object(u.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(u.jsx)("span",{children:e.first_air_date})]}),Object(u.jsxs)("div",{className:"movie-overview",children:[Object(u.jsx)("h2",{children:"Overview"}),Object(u.jsx)("p",{children:""===e.overview?"No overview available!":e.overview}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}function E(){var e=Object(c.useState)(10),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(1),i=Object(j.a)(n,2),r=i[0],l=i[1],o=Object(c.useState)([]),d=Object(j.a)(o,2),b=d[0],O=d[1],m=Object(c.useState)([]),h=Object(j.a)(m,2),p=h[0],v=h[1],x=Object(c.useState)([]),f=Object(j.a)(x,2),N=f[0],w=f[1],k=function(e){return e.length<1?"":e.map((function(e){return e.id})).reduce((function(e,t){return e+","+t}))}(p);Object(c.useEffect)((function(){g.a.get("/api/popularshows?page=".concat(r,"&with_genres=").concat(k)).then((function(e){O(e.data.results),s(e.data.total_pages)}))}),[k,r]);return Object(u.jsxs)("div",{children:[Object(u.jsx)(L,{type:"tv",selectedGenres:p,genres:N,setGenres:w,setSelectedGenres:v,setPage:l}),Object(u.jsx)(D,{shows:b}),Object(u.jsx)(C.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){l(e.selected+1)},pageCount:a,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}var P=function(){return Object(u.jsx)(h,{children:Object(u.jsxs)(r.a,{children:[Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(f,{}),Object(u.jsx)("div",{className:"parent",children:Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/upcoming",component:S}),Object(u.jsx)(l.a,{path:"/movies",component:T}),Object(u.jsx)(l.a,{path:"/shows",component:E}),Object(u.jsx)(l.a,{path:"/watchlist",component:_}),Object(u.jsx)(l.a,{path:"/search/:query",component:k}),Object(u.jsx)(l.a,{path:"/",component:x})]})})})]}),Object(u.jsx)(N,{})]})})};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c6dd394f.chunk.js.map