(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{21:function(e,t,a){},23:function(e,t,a){},59:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),i=a(32),n=a.n(i),l=(a(23),a(10)),r=a(2),j=a(4),o=(a(21),a(35)),d=a(15),b=function(e,t){switch(t.type){case"ADD_ITEM_TO_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:[t.payload].concat(Object(o.a)(e.watchlist))});case"REMOVE_ITEM_FROM_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});default:return e}},p=a(0),h={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[]},m=Object(c.createContext)(h),O=function(e){var t=Object(c.useReducer)(b,h),a=Object(j.a)(t,2),s=a[0],i=a[1];Object(c.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist))}),[s]);return Object(p.jsx)(m.Provider,{value:{watchlist:s.watchlist,addToWatchlist:function(e){i({type:"ADD_ITEM_TO_WATCHLIST",payload:e})},removeFromWatchlist:function(e){i({type:"REMOVE_ITEM_FROM_WATCHLIST",payload:e})}},children:e.children})};function u(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(p.jsx)("div",{className:"card-container",children:e.movies.map((function(e){return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-image",children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("b",{className:"title",children:e.title})}),Object(p.jsxs)("div",{className:"ratingDate",children:[Object(p.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(p.jsx)("span",{children:e.release_date})]}),Object(p.jsxs)("div",{className:"movie-overview",children:[Object(p.jsx)("h2",{children:"Overview"}),Object(p.jsx)("p",{children:""===e.overview?"No overview available!":e.overview}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}var v=a(11),x=a.n(v);function g(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(p.jsx)("div",{className:"card-container",children:e.shows.map((function(e){return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-image",children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("b",{className:"title",children:e.name})}),Object(p.jsxs)("div",{className:"ratingDate",children:[Object(p.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(p.jsx)("span",{children:e.first_air_date})]}),Object(p.jsxs)("div",{className:"movie-overview",children:[Object(p.jsx)("h2",{children:"Overview"}),Object(p.jsx)("p",{children:""===e.overview?"No overview available!":e.overview}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}var N=a(9),f=a.n(N);function C(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(1),n=Object(j.a)(i,2),l=n[0],r=n[1],o=Object(c.useState)(1),d=Object(j.a)(o,2),b=d[0],h=d[1],m=Object(c.useState)([]),O=Object(j.a)(m,2),v=O[0],N=O[1];Object(c.useEffect)((function(){f.a.get("/api/popularmovies?page=".concat(l)).then((function(e){s(e.data.results),console.log(e.data.results)})),f.a.get("/api/popularshows?page=".concat(b)).then((function(e){N(e.data.results)}))}),[l,b]);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"col",children:[" ",Object(p.jsx)("h3",{children:"Movies"})]}),Object(p.jsx)(u,{movies:a}),Object(p.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){r(e.selected+1)},pageCount:10,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"}),Object(p.jsxs)("div",{className:"col",children:[" ",Object(p.jsx)("h3",{children:"Shows"})]}),Object(p.jsx)(g,{shows:v}),Object(p.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){h(e.selected+1)},pageCount:10,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function w(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(p.jsx)("div",{className:"card-container",children:e.data.map((function(e){return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-image",children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("b",{className:"title",children:e.title?e.title:e.name})}),Object(p.jsxs)("div",{className:"ratingDate",children:[Object(p.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(p.jsx)("span",{children:"movie"===e.media_type?"Movie":"Show"})]}),Object(p.jsxs)("div",{className:"movie-overview",children:[Object(p.jsx)("h2",{children:"Overview: "}),Object(p.jsx)("p",{children:e.overview}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}function k(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){f.a.get("/api").then((function(e){s(e.data.results)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("h3",{children:"Trending"})}),Object(p.jsx)(w,{data:a})]})}a(59);function y(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],i=Object(r.f)();return Object(p.jsxs)("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark",children:[Object(p.jsx)(l.b,{to:"/",className:"navbar-brand",children:"Home"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("div",{className:"form-outline",children:Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"Search...",value:a,onChange:function(e){e.preventDefault(),s(e.target.value)}})}),Object(p.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){i.push("/search/".concat(a))},children:Object(p.jsx)("i",{className:"fa fa-search"})})]}),Object(p.jsx)("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar",children:Object(p.jsxs)("ul",{className:"navbar-nav",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/popular",className:"nav-link",children:"Popular"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/upcoming",className:"nav-link",children:"Upcoming"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.b,{to:"/watchlist",className:"nav-link",children:"Watchlist"})})]})})]})}function _(){var e=Object(r.g)().query,t=Object(c.useState)([]),a=Object(j.a)(t,2),s=a[0],i=a[1],n=Object(c.useState)(1),l=Object(j.a)(n,2),o=l[0],d=l[1],b=Object(c.useState)(0),h=Object(j.a)(b,2),m=h[0],O=h[1];Object(c.useEffect)((function(){f.a.get("/api/search?query=".concat(e,"&page=").concat(o)).then((function(e){i(e.data.results),O(e.data.total_pages)}))}),[o,e]);return Object(p.jsxs)("div",{children:[Object(p.jsx)(w,{data:s}),Object(p.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){d(e.selected+1)},pageCount:m,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function S(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(1),n=Object(j.a)(i,2),l=n[0],r=n[1];Object(c.useEffect)((function(){f.a.get("/api/upcoming?page=".concat(l)).then((function(e){s(e.data.results),console.log(e.data.results)}))}),[l]);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"col",children:[" ",Object(p.jsx)("h3",{children:"Movies"})]}),Object(p.jsx)(u,{movies:a}),Object(p.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){r(e.selected+1)},pageCount:10,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function L(){var e=Object(c.useContext)(m),t=e.watchlist,a=e.removeFromWatchlist;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"h2",children:"Watchlist"}),Object(p.jsx)("div",{className:"card-container",children:t.map((function(e){return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-image",children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("b",{className:"title",children:e.title?e.title:e.name})}),Object(p.jsxs)("div",{className:"ratingDate",children:[Object(p.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(p.jsx)("span",{children:"movie"===e.media_type?"Movie":"Show"})]}),Object(p.jsxs)("div",{className:"movie-overview",children:[Object(p.jsx)("h2",{children:"Overview: "}),Object(p.jsx)("p",{children:e.overview}),Object(p.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(e.id)},children:"Remove from watchlist"})]})]})]},e.id)}))})]})}var T=function(){return Object(p.jsx)(O,{children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(y,{}),Object(p.jsx)("div",{className:"parent",children:Object(p.jsx)("div",{className:"content",children:Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{path:"/upcoming",component:S}),Object(p.jsx)(r.a,{path:"/popular",component:C}),Object(p.jsx)(r.a,{path:"/watchlist",component:L}),Object(p.jsx)(r.a,{path:"/search/:query",component:_}),Object(p.jsx)(r.a,{path:"/",component:k})]})})})]})})};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.05373d17.chunk.js.map