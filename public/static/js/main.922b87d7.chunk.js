(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{18:function(e,t,a){},21:function(e,t,a){},57:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),i=a(30),n=a.n(i),r=(a(21),a(7)),l=a(2),j=a(3),o=(a(18),a(33)),d=a(12),b=function(e,t){switch(t.type){case"ADD_ITEM_TO_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:[t.payload].concat(Object(o.a)(e.watchlist))});case"REMOVE_ITEM_FROM_WATCHLIST":return Object(d.a)(Object(d.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});default:return e}},h=a(0),O={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[]},m=Object(c.createContext)(O),p=function(e){var t=Object(c.useReducer)(b,O),a=Object(j.a)(t,2),s=a[0],i=a[1];Object(c.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.watchlist))}),[s]);return Object(h.jsx)(m.Provider,{value:{watchlist:s.watchlist,addToWatchlist:function(e){i({type:"ADD_ITEM_TO_WATCHLIST",payload:e})},removeFromWatchlist:function(e){i({type:"REMOVE_ITEM_FROM_WATCHLIST",payload:e})}},children:e.children})};function v(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(h.jsx)("div",{className:"card-container",children:e.movies.map((function(e){return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-image",children:Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)("b",{className:"title",children:e.title})}),Object(h.jsxs)("div",{className:"ratingDate",children:[Object(h.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(h.jsx)("span",{children:e.release_date})]}),Object(h.jsxs)("div",{className:"movie-overview",children:[Object(h.jsx)("h2",{children:"Overview"}),Object(h.jsx)("p",{children:""===e.overview?"No overview available!":e.overview}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}var u=a(11),x=a.n(u);function g(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(h.jsx)("div",{className:"card-container",children:e.shows.map((function(e){return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-image",children:Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)("b",{className:"title",children:e.name})}),Object(h.jsxs)("div",{className:"ratingDate",children:[Object(h.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(h.jsx)("span",{children:e.first_air_date})]}),Object(h.jsxs)("div",{className:"movie-overview",children:[Object(h.jsx)("h2",{children:"Overview"}),Object(h.jsx)("p",{children:""===e.overview?"No overview available!":e.overview}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}var N=a(8),f=a.n(N);function w(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(1),n=Object(j.a)(i,2),r=n[0],l=n[1],o=Object(c.useState)(1),d=Object(j.a)(o,2),b=d[0],O=d[1],m=Object(c.useState)([]),p=Object(j.a)(m,2),u=p[0],N=p[1];Object(c.useEffect)((function(){f.a.get("/api/popularmovies?page=".concat(r)).then((function(e){s(e.data.results),console.log(e.data.results)})),f.a.get("/api/popularshows?page=".concat(b)).then((function(e){N(e.data.results)}))}),[r,b]);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"col",children:[" ",Object(h.jsx)("h3",{children:"Movies"})]}),Object(h.jsx)(v,{movies:a}),Object(h.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){l(e.selected+1)},pageCount:10,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"}),Object(h.jsxs)("div",{className:"col",children:[" ",Object(h.jsx)("h3",{children:"Shows"})]}),Object(h.jsx)(g,{shows:u}),Object(h.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){O(e.selected+1)},pageCount:10,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function C(e){var t=Object(c.useContext)(m),a=t.addToWatchlist,s=t.watchlist;return Object(h.jsx)("div",{className:"card-container",children:e.data.map((function(e){return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-image",children:Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)("b",{className:"title",children:e.title?e.title:e.name})}),Object(h.jsxs)("div",{className:"ratingDate",children:[Object(h.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(h.jsx)("span",{children:"movie"===e.media_type?"Movie":"Show"})]}),Object(h.jsxs)("div",{className:"movie-overview",children:[Object(h.jsx)("h2",{children:"Overview: "}),Object(h.jsx)("p",{children:e.overview}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return a(e)},disabled:s.find((function(t){return t.id===e.id})),children:"Add to watchlist"})]})]})]},e.id)}))})}function k(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){f.a.get("/api").then((function(e){s(e.data.results)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("h3",{children:"Trending"})}),Object(h.jsx)(C,{data:a})]})}a(57);function y(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],i=Object(l.f)();return Object(h.jsxs)("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark",children:[Object(h.jsx)(r.b,{to:"/",className:"navbar-brand",children:"Home"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"input-group",children:[Object(h.jsx)("div",{className:"form-outline",children:Object(h.jsx)("input",{className:"form-control",type:"text",placeholder:"Search...",value:a,onChange:function(e){e.preventDefault(),s(e.target.value)}})}),Object(h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){i.push("/search/".concat(a))},children:Object(h.jsx)("i",{className:"fa fa-search"})})]}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar",children:Object(h.jsxs)("ul",{className:"navbar-nav",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(r.b,{to:"/popular",className:"nav-link",children:"Popular"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(r.b,{to:"/upcoming",className:"nav-link",children:"Upcoming"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(r.b,{to:"/watchlist",className:"nav-link",children:"Watchlist"})})]})})]})}function _(){var e=Object(l.g)().query,t=Object(c.useState)([]),a=Object(j.a)(t,2),s=a[0],i=a[1],n=Object(c.useState)(1),r=Object(j.a)(n,2),o=r[0],d=r[1],b=Object(c.useState)(0),O=Object(j.a)(b,2),m=O[0],p=O[1];Object(c.useEffect)((function(){f.a.get("/api/search?query=".concat(e,"&page=").concat(o)).then((function(e){i(e.data.results),p(e.data.total_pages)}))}),[o,e]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{data:s}),Object(h.jsx)(x.a,{previousLabel:"Previous",nextLabel:"Next",onPageChange:function(e){d(e.selected+1)},pageCount:m,marginPagesDisplayed:3,pageRangeDisplayed:5,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link"})]})}function S(){return Object(h.jsx)("div",{})}function L(){var e=Object(c.useContext)(m),t=e.watchlist,a=e.removeFromWatchlist;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"h2",children:"Watchlist"}),Object(h.jsx)("div",{className:"card-container",children:t.map((function(e){return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-image",children:Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,alt:""})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)("b",{className:"title",children:e.title?e.title:e.name})}),Object(h.jsxs)("div",{className:"ratingDate",children:[Object(h.jsxs)("span",{children:[e.vote_average,"\u2b50"]}),Object(h.jsx)("span",{children:"movie"===e.media_type?"Movie":"Show"})]}),Object(h.jsxs)("div",{className:"movie-overview",children:[Object(h.jsx)("h2",{children:"Overview: "}),Object(h.jsx)("p",{children:e.overview}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(e.id)},children:"Remove from watchlist"})]})]})]},e.id)}))})]})}var T=function(){return Object(h.jsx)(p,{children:Object(h.jsxs)(r.a,{children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{className:"parent",children:Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/upcoming",component:S}),Object(h.jsx)(l.a,{path:"/popular",component:w}),Object(h.jsx)(l.a,{path:"/watchlist",component:L}),Object(h.jsx)(l.a,{path:"/search/:query",component:_}),Object(h.jsx)(l.a,{path:"/",component:k})]})})})]})})};n.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.922b87d7.chunk.js.map